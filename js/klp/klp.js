var klp=klp||{};!function(){var e="date",t,i,n,a,o=function(){t=["date","organization","opportunities"],i=swig.compile($("#tpl-volunteer-modal").html()),n=$("#modal_wrapper"),a=$("#modal_overlay")},s=function(e){if($(window).width()<768)return!0;e.preventDefault();var t=i();n.append(t);var o=n.find(".modal-volunteer");l(o),setTimeout(function(){o.addClass("show"),a.addClass("show")},0)},l=function(i){function n(e){c.val(e)}function o(e){f.val(e),m.show()}function s(){f.val(""),m.hide()}function l(e){e.preventDefault();var t=c.val(),i=f.val(),n=$(this).data("type"),a="map.php?location="+t+"&date="+i+"&type="+n;window.location.href=a}var c=i.find("input[name=data_location]"),f=i.find("input[name=data_date]"),p=i.find("input[name=data_type]"),u=i.find(".btn-modal-close"),v=i.find(".btn-modal-back"),m=i.find(".btn-next-step-cal"),h=i.find(".btn-next-step-org"),_=i.find("#datepicker-input"),w=i.find("#select-location").selectize({onChange:n});_.Zebra_DatePicker({always_visible:i.find("#datepicker-wrapper"),first_day_of_week:0,show_clear_date:!1,show_select_today:!1,disabled_dates:["1,3,4,5,12,13,14,22,24"],onSelect:o,onClear:s});var b=_.data("Zebra_DatePicker");m.on("click",function(t){t.preventDefault(),e="organization",d(i,e),v.show()}),h.on("click",function(t){t.preventDefault(),e="opportunities",d(i,e),v.show()}),u.on("click",function(e){e.preventDefault(),i.removeClass("show"),a.removeClass("show"),setTimeout(function(){i.remove()},300)}),v.on("click",function(n){n.preventDefault();var a=jQuery.inArray(e,t);if(!(0>=a)){a--;var o=t[a];e=o,r(i,o),0>=a&&v.hide()}}),i.on("click",".js-open-map",l)},r=function(e,t){var i=e.find(".step-item.visible"),n=e.find(".step-item[data-step-name='"+t+"']");i.removeClass("fadein").addClass("move-right fadeout"),n.removeClass("fadeut").addClass("move-left visible"),setTimeout(function(){i.removeClass("visible")},300),setTimeout(function(){n.addClass("fadein").removeClass("move-left")},10)},d=function(e,t){var i=e.find(".step-item.visible"),n=e.find(".step-item[data-step-name='"+t+"']");i.removeClass("move-right fadein").addClass("fadeout move-left"),setTimeout(function(){i.removeClass("visible")},300),n.addClass("move-right visible"),setTimeout(function(){n.addClass("fadein").removeClass("move-right")},10)};$(document).ready(function(){o(),$(document).on("click",".js-trigger-volunteer",s)})}();var klp=klp||{};!function(){var e,t,i,n=function(){e=swig.compile($("#tpl-volunteer-modal-map").html()),t=$("#modal_wrapper"),i=$("#modal_overlay")},a=function(n){n.preventDefault();var a=$(this).data("date")||!1,s={date:a},l=e(s);t.append(l);var r=t.find(".modal-volunteer.second-step");o(r),setTimeout(function(){r.addClass("show"),i.addClass("show")},0)},o=function(e){function t(e){a.val(e),c.show()}function n(){a.val(""),c.hide()}var a=e.find("input[name=data_date]"),o=e.find("input[name=data_type]"),r=e.find(".btn-modal-close"),d=e.find(".btn-modal-back"),c=e.find(".btn-next-step-date"),f=e.find(".btn-next-step-opportunities"),p=e.find(".btn-next-step-login"),u=e.find(".btn-next-step-confirmation"),v=e.find(".btn-next-step-submit"),m=e.find("#datepicker-input");m.Zebra_DatePicker({always_visible:e.find("#datepicker-wrapper"),first_day_of_week:0,show_clear_date:!1,show_select_today:!1,disabled_dates:["1,3,4,5,12,13,14,22,24"],onSelect:t,onClear:n});var h=m.data("Zebra_DatePicker");c.on("click",function(t){l(e,"opportunities"),d.show(),d.off(),d.on("click",function(){s(e,"date"),d.hide()})}),f.on("click",function(t){l(e,"signup"),d.show(),d.off(),d.on("click",function(){s(e,"opportunities")})}),u.on("click",function(t){l(e,"confirmation"),d.show(),d.off(),d.on("click",function(){s(e,"opportunities")})}),p.on("click",function(t){l(e,"login"),d.off(),d.on("click",function(){s(e,"signup")})}),v.on("click",function(t){l(e,"submit"),d.hide()}),r.on("click",function(t){e.removeClass("show"),i.removeClass("show"),setTimeout(function(){e.remove()},300)})},s=function(e,t){var i=e.find(".step-item.visible"),n=e.find(".step-item[data-step-name='"+t+"']");i.removeClass("fadein").addClass("move-right fadeout"),n.removeClass("fadeut").addClass("move-left visible"),setTimeout(function(){i.removeClass("visible")},300),setTimeout(function(){n.addClass("fadein").removeClass("move-left")},10)},l=function(e,t){var i=e.find(".step-item.visible"),n=e.find(".step-item[data-step-name='"+t+"']");i.removeClass("move-right fadein").addClass("fadeout move-left"),setTimeout(function(){i.removeClass("visible")},300),n.addClass("move-right visible"),setTimeout(function(){n.addClass("fadein").removeClass("move-right")},10)};$(document).ready(function(){n(),$(document).on("click",".js-trigger-volunteer-map",a)})}();var klp=klp||{};klp.volunteer2=function(){var e,t,i,n=function(e){var t,i,n,a,o;this.$wrapper=$(e),this.$steps=this.$wrapper.find(".step-item"),this.$btn_back=this.$wrapper.find(".btn-modal-back"),this._active_step=1,this.init()};n.prototype.init=function(){function e(){n.show()}function t(){n.hide()}var i=this;this.$wrapper.on("click",".js-volunteer-next-step",function(e){e.preventDefault(),i.show_next_step()}),this.$wrapper.on("click",".btn-modal-back",function(e){e.preventDefault(),i.show_prev_step()}),this.$wrapper.on("click",".btn-modal-close",function(e){e.preventDefault(),i.on_close()});var n=this.$wrapper.find(".js-next-btn-cal-step"),a=this.$wrapper.find("#datepicker-input"),o=this.$wrapper.find("#select-cities-state").selectize();a.Zebra_DatePicker({always_visible:this.$wrapper.find("#datepicker-wrapper"),first_day_of_week:0,show_clear_date:!1,show_select_today:!1,disabled_dates:["1,3,4,5,12,13,14,22,24"],onSelect:e,onClear:t});var s=a.data("Zebra_DatePicker")},n.prototype.get_step=function(e){return this.$wrapper.find('.step-item[data-step="'+e+'"]')},n.prototype.show_prev_step=function(){var e=this.get_step(this._active_step),t=this.get_step(--this._active_step);e.removeClass("fadein").addClass("move-right fadeout"),t.removeClass("fadeut").addClass("move-left visible"),setTimeout(function(){e.removeClass("visible")},300),setTimeout(function(){t.addClass("fadein").removeClass("move-left")},10),1==this._active_step&&this.$btn_back.hide()},n.prototype.show_next_step=function(){var e=this.get_step(this._active_step),t=this.get_step(++this._active_step);this.$btn_back.show(),e.removeClass("move-right fadein").addClass("fadeout move-left"),setTimeout(function(){e.removeClass("visible")},300),t.addClass("move-right visible"),setTimeout(function(){t.addClass("fadein").removeClass("move-right")},10)},n.prototype.on_close=function(){var e=this;this.$wrapper.removeClass("show"),$("#modal_overlay").removeClass("show"),setTimeout(function(){e.$wrapper.remove()},300)};var a=function(a){if($(window).width()<1024)return!0;a.preventDefault();var o={hide_input_location:!1},s=i(o);e.append(s);var l=e.find(".modal-volunteer"),r=new n(l);l.addClass("show"),t.addClass("show")},o=function(){var e=$(".page-volunteer-register").find(".volunteer-flow"),t=new n(e)},s=function(){e=$("#modal_wrapper"),t=$("#modal_overlay"),i=swig.compile($("#tpl-volunteer-modal").html())};return $(document).ready(function(){s()}),{init_page_mode:o}}(),$(document).ready(function(){});
var klp=klp||{};!function(){var a,b,c,d,e="date",f=function(){a=["date","organization","opportunities"],b=swig.compile($("#tpl-volunteer-modal").html()),c=$("#modal_wrapper"),d=$("#modal_overlay")},g=function(a){if($(window).width()<768)return!0;a.preventDefault();var e=b();c.append(e);var f=c.find(".modal-volunteer");h(f),setTimeout(function(){f.addClass("show"),d.addClass("show")},0)},h=function(b){function c(a){k.val(a)}function f(a){l.val(a),o.show()}function g(){l.val(""),o.hide()}function h(a){a.preventDefault();var b=k.val(),c=l.val(),d=$(this).data("type"),e="volunteer-map.php?location="+b+"&date="+c+"&type="+d;window.location.href=e}{var k=b.find("input[name=data_location]"),l=b.find("input[name=data_date]"),m=(b.find("input[name=data_type]"),b.find(".btn-modal-close")),n=b.find(".btn-modal-back"),o=b.find(".btn-next-step-cal"),p=b.find(".btn-next-step-org"),q=b.find("#datepicker-input");b.find("#select-location").selectize({onChange:c})}q.Zebra_DatePicker({always_visible:b.find("#datepicker-wrapper"),first_day_of_week:0,show_clear_date:!1,show_select_today:!1,disabled_dates:["1,3,4,5,12,13,14,22,24"],onSelect:f,onClear:g});q.data("Zebra_DatePicker");o.on("click",function(a){a.preventDefault(),e="organization",j(b,e),n.show()}),p.on("click",function(a){a.preventDefault(),e="opportunities",j(b,e),n.show()}),m.on("click",function(a){a.preventDefault(),b.removeClass("show"),d.removeClass("show"),setTimeout(function(){b.remove()},300)}),n.on("click",function(c){c.preventDefault();var d=jQuery.inArray(e,a);if(!(0>=d)){d--;var f=a[d];e=f,i(b,f),0>=d&&n.hide()}}),b.on("click",".js-open-map",h)},i=function(a,b){var c=a.find(".step-item.visible"),d=a.find(".step-item[data-step-name='"+b+"']");c.removeClass("fadein").addClass("move-right fadeout"),d.removeClass("fadeut").addClass("move-left visible"),setTimeout(function(){c.removeClass("visible")},300),setTimeout(function(){d.addClass("fadein").removeClass("move-left")},10)},j=function(a,b){var c=a.find(".step-item.visible"),d=a.find(".step-item[data-step-name='"+b+"']");c.removeClass("move-right fadein").addClass("fadeout move-left"),setTimeout(function(){c.removeClass("visible")},300),d.addClass("move-right visible"),setTimeout(function(){d.addClass("fadein").removeClass("move-right")},10)};$(document).ready(function(){f(),$(document).on("click",".js-trigger-volunteer",g)})}();var klp=klp||{};!function(){var a,b,c,d=function(){a=swig.compile($("#tpl-volunteer-modal-map").html()),b=$("#modal_wrapper"),c=$("#modal_overlay")},e=function(d){d.preventDefault();var e=$(this).data("date")||!1,g={date:e},h=a(g);b.append(h);var i=b.find(".modal-volunteer.second-step");f(i),setTimeout(function(){i.addClass("show"),c.addClass("show")},0)},f=function(a){function b(a){e.val(a),j.show()}function d(){e.val(""),j.hide()}var e=a.find("input[name=data_date]"),f=(a.find("input[name=data_type]"),a.find(".btn-modal-close")),i=a.find(".btn-modal-back"),j=a.find(".btn-next-step-date"),k=a.find(".btn-next-step-opportunities"),l=a.find(".btn-next-step-login"),m=a.find(".btn-next-step-confirmation"),n=a.find(".btn-next-step-submit"),o=a.find("#datepicker-input");o.Zebra_DatePicker({always_visible:a.find("#datepicker-wrapper"),first_day_of_week:0,show_clear_date:!1,show_select_today:!1,disabled_dates:["1,3,4,5,12,13,14,22,24"],onSelect:b,onClear:d});o.data("Zebra_DatePicker");j.on("click",function(){h(a,"opportunities"),i.show(),i.off(),i.on("click",function(){g(a,"date"),i.hide()})}),k.on("click",function(){h(a,"signup"),i.show(),i.off(),i.on("click",function(){g(a,"opportunities")})}),m.on("click",function(){h(a,"confirmation"),i.show(),i.off(),i.on("click",function(){g(a,"opportunities")})}),l.on("click",function(){h(a,"login"),i.off(),i.on("click",function(){g(a,"signup")})}),n.on("click",function(){h(a,"submit"),i.hide()}),f.on("click",function(){a.removeClass("show"),c.removeClass("show"),setTimeout(function(){a.remove()},300)})},g=function(a,b){var c=a.find(".step-item.visible"),d=a.find(".step-item[data-step-name='"+b+"']");c.removeClass("fadein").addClass("move-right fadeout"),d.removeClass("fadeut").addClass("move-left visible"),setTimeout(function(){c.removeClass("visible")},300),setTimeout(function(){d.addClass("fadein").removeClass("move-left")},10)},h=function(a,b){var c=a.find(".step-item.visible"),d=a.find(".step-item[data-step-name='"+b+"']");c.removeClass("move-right fadein").addClass("fadeout move-left"),setTimeout(function(){c.removeClass("visible")},300),d.addClass("move-right visible"),setTimeout(function(){d.addClass("fadein").removeClass("move-right")},10)};$(document).ready(function(){d(),$(document).on("click",".js-trigger-volunteer-map",e)})}();var klp=klp||{};!function(){var a,b,c,d=function(){var d=$("#tpl-volunteer-modal-confirm");return d.length?(a=swig.compile(d.html()),b=$("#modal_wrapper"),void(c=$("#modal_overlay"))):void console.log("Volunteer confirm modal template is missing")},e=function(d){d.preventDefault();var e={};e.date=$(this).data("date")||!1,e.opportunity_id=$(this).data("opportunity_id")||!1;var g=a(e);b.append(g);var h=b.find(".js-volunteer-modal-confirmation-step");f(h),setTimeout(function(){h.addClass("show"),c.addClass("show")},0)},f=function(a){var b=a.find(".btn-modal-close"),d=a.find(".btn-modal-back"),e=a.find(".btn-next-step-login"),f=a.find(".btn-next-step-confirmation"),i=a.find(".btn-next-step-submit");f.on("click",function(){h(a,"confirmation"),d.hide(),d.off(),d.on("click",function(){g(a,"login")})}),e.on("click",function(){h(a,"login"),d.show(),d.off(),d.on("click",function(){g(a,"signup"),d.hide()})}),i.on("click",function(){h(a,"submit"),d.hide()}),b.on("click",function(){a.removeClass("show"),c.removeClass("show"),setTimeout(function(){a.remove()},300)})},g=function(a,b){var c=a.find(".step-item.visible"),d=a.find(".step-item[data-step-name='"+b+"']");c.removeClass("fadein").addClass("move-right fadeout"),d.removeClass("fadeut").addClass("move-left visible"),setTimeout(function(){c.removeClass("visible")},300),setTimeout(function(){d.addClass("fadein").removeClass("move-left")},10)},h=function(a,b){var c=a.find(".step-item.visible"),d=a.find(".step-item[data-step-name='"+b+"']");c.removeClass("move-right fadein").addClass("fadeout move-left"),setTimeout(function(){c.removeClass("visible")},300),d.addClass("move-right visible"),setTimeout(function(){d.addClass("fadein").removeClass("move-right")},10)};$(document).ready(function(){d(),$(document).on("click",".js-trigger-volunteer-confirm",e)})}();